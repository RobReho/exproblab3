\hypertarget{simulation_8cpp}{}\doxysection{src/simulation.cpp File Reference}
\label{simulation_8cpp}\index{src/simulation.cpp@{src/simulation.cpp}}


this node generates and publishes the hints of the Cluedo game.  


{\ttfamily \#include $<$ros/ros.\+h$>$}\newline
{\ttfamily \#include $<$erl2/\+Erl\+Oracle.\+h$>$}\newline
{\ttfamily \#include $<$erl2/\+Oracle.\+h$>$}\newline
{\ttfamily \#include $<$erl3/\+Marker.\+h$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
Include dependency graph for simulation.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{simulation_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{simulation_8cpp_ae1a3f65d934a3c4a938e85d5071dfaa5}{oracle\+Service}} (erl2\+::\+Oracle\+::\+Request \&req, erl2\+::\+Oracle\+::\+Response \&res)
\begin{DoxyCompactList}\small\item\em callback function of the service oracle\+\_\+solution \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{simulation_8cpp_ae03e072c5ab0129b0d05a862f394628c}{oracle\+Callback}} (erl3\+::\+Marker\+::\+Request \&req, erl3\+::\+Marker\+::\+Response \&res)
\begin{DoxyCompactList}\small\item\em callback function of the oracle\+\_\+hint service \end{DoxyCompactList}\item 
int \mbox{\hyperlink{simulation_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Main function of the simulation node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{simulation_8cpp_a32812fe000700d7aa8988d74e59471c7}\label{simulation_8cpp_a32812fe000700d7aa8988d74e59471c7}} 
ros\+::\+Publisher {\bfseries oracle\+\_\+pub}
\item 
\mbox{\Hypertarget{simulation_8cpp_a36b0204cd96e3dc326a2adfa3d1dceda}\label{simulation_8cpp_a36b0204cd96e3dc326a2adfa3d1dceda}} 
double {\bfseries markx} \mbox{[}4\mbox{]}
\item 
\mbox{\Hypertarget{simulation_8cpp_a0bc4146f286fe42bd5e8fa1e53826447}\label{simulation_8cpp_a0bc4146f286fe42bd5e8fa1e53826447}} 
double {\bfseries marky} \mbox{[}4\mbox{]}
\item 
\mbox{\Hypertarget{simulation_8cpp_a8d90002e6a9c50028f184b22c380efc4}\label{simulation_8cpp_a8d90002e6a9c50028f184b22c380efc4}} 
double {\bfseries markz} \mbox{[}4\mbox{]}
\item 
\mbox{\Hypertarget{simulation_8cpp_a412ed4d68a81f370cdcd20e3019db982}\label{simulation_8cpp_a412ed4d68a81f370cdcd20e3019db982}} 
double {\bfseries lastmarkx} = 0.\+0
\item 
\mbox{\Hypertarget{simulation_8cpp_a174c0dfc727a92493b03f7b0573f4f3e}\label{simulation_8cpp_a174c0dfc727a92493b03f7b0573f4f3e}} 
double {\bfseries lastmarky} = 0.\+0
\item 
\mbox{\Hypertarget{simulation_8cpp_a0049a8a39c319bf1470f36c9e0f75abd}\label{simulation_8cpp_a0049a8a39c319bf1470f36c9e0f75abd}} 
const std\+::string {\bfseries key} \mbox{[}3\mbox{]} = \{\char`\"{}who\char`\"{}, \char`\"{}what\char`\"{}, \char`\"{}where\char`\"{}\}
\item 
\mbox{\Hypertarget{simulation_8cpp_a68fa6a0c7a1208892294604263e23d92}\label{simulation_8cpp_a68fa6a0c7a1208892294604263e23d92}} 
const std\+::string {\bfseries person} \mbox{[}6\mbox{]} = \{\char`\"{}Miss\+Scarlett\char`\"{}, \char`\"{}Colonel\+Mustard\char`\"{}, \char`\"{}Mrs\+White\char`\"{}, \char`\"{}Mr\+Green\char`\"{}, \char`\"{}Mrs\+Peacock\char`\"{}, \char`\"{}Prof\+Plum\char`\"{}\}
\item 
\mbox{\Hypertarget{simulation_8cpp_a4368e40a20e72e62974037baf19dba80}\label{simulation_8cpp_a4368e40a20e72e62974037baf19dba80}} 
const std\+::string {\bfseries object} \mbox{[}6\mbox{]} = \{\char`\"{}candlestick\char`\"{}, \char`\"{}dagger\char`\"{}, \char`\"{}lead\+Pipe\char`\"{}, \char`\"{}revolver\char`\"{}, \char`\"{}rope\char`\"{}, \char`\"{}spanner\char`\"{}\}
\item 
\mbox{\Hypertarget{simulation_8cpp_a5e5bd50ead53d20df3f8ede527f47ce7}\label{simulation_8cpp_a5e5bd50ead53d20df3f8ede527f47ce7}} 
const std\+::string {\bfseries place} \mbox{[}9\mbox{]} = \{\char`\"{}conservatory\char`\"{}, \char`\"{}lounge\char`\"{}, \char`\"{}kitchen\char`\"{}, \char`\"{}library\char`\"{}, \char`\"{}hall\char`\"{}, \char`\"{}study\char`\"{}, \char`\"{}bathroom\char`\"{}, \char`\"{}dining\+Room\char`\"{}, \char`\"{}billiard\+Room\char`\"{}\}
\item 
\mbox{\Hypertarget{simulation_8cpp_a37d4a0b625b8b9583adf9362f5aae971}\label{simulation_8cpp_a37d4a0b625b8b9583adf9362f5aae971}} 
int {\bfseries u\+I\+Ds} \mbox{[}3\mbox{]} =\{-\/1,-\/1\}
\item 
\mbox{\Hypertarget{simulation_8cpp_a90c5d03e068ddae91702223f47eff712}\label{simulation_8cpp_a90c5d03e068ddae91702223f47eff712}} 
int {\bfseries win\+ID} = -\/1
\item 
\mbox{\Hypertarget{simulation_8cpp_ab5f3446a47fbb2ab4e388c5f5e6674df}\label{simulation_8cpp_ab5f3446a47fbb2ab4e388c5f5e6674df}} 
int {\bfseries marker\+ID} \mbox{[}30\mbox{]}
\item 
\mbox{\Hypertarget{simulation_8cpp_aa1e0faa63b5f5b649a5056108449dc95}\label{simulation_8cpp_aa1e0faa63b5f5b649a5056108449dc95}} 
erl2\+::\+Erl\+Oracle {\bfseries oracle\+\_\+msgs} \mbox{[}30\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
this node generates and publishes the hints of the Cluedo game. 

\begin{DoxyAuthor}{Author}
Roberta Reho 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
04/03/2023
\end{DoxyDate}
Subscribes to\+: ~\newline
 None

Publishes to\+: ~\newline
 None

Serivces\+: ~\newline
 /oracle\+\_\+hint /oracle\+\_\+solution

Client Services\+: ~\newline
 None

Action Services\+: ~\newline
 None

Description\+: ~\newline
 In this node the hints of the game are randomly generated and they are associated to each marker in the cluedo game. Moreove it is implemented the oracle\+\_\+solution services that check the ID of the current hypothesis with the winning one that is randomly selected. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{simulation_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{simulation_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{simulation.cpp@{simulation.cpp}!main@{main}}
\index{main@{main}!simulation.cpp@{simulation.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Main function of the simulation node. 


\begin{DoxyParams}{Parameters}
{\em None} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0
\end{DoxyReturn}
This is the main function of the simulation node where the node is initialized and the oracle\+\_\+hint and oracle\+\_\+solution services are implemented. In this main function the hints of the game are randomly generated and they are associated to each marker in the cluedo game. \mbox{\Hypertarget{simulation_8cpp_ae03e072c5ab0129b0d05a862f394628c}\label{simulation_8cpp_ae03e072c5ab0129b0d05a862f394628c}} 
\index{simulation.cpp@{simulation.cpp}!oracleCallback@{oracleCallback}}
\index{oracleCallback@{oracleCallback}!simulation.cpp@{simulation.cpp}}
\doxysubsubsection{\texorpdfstring{oracleCallback()}{oracleCallback()}}
{\footnotesize\ttfamily bool oracle\+Callback (\begin{DoxyParamCaption}\item[{erl3\+::\+Marker\+::\+Request \&}]{req,  }\item[{erl3\+::\+Marker\+::\+Response \&}]{res }\end{DoxyParamCaption})}



callback function of the oracle\+\_\+hint service 


\begin{DoxyParams}{Parameters}
{\em req} & Marker\+Request \\
\hline
{\em res} & Marker\+Response \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true
\end{DoxyReturn}
This function converts the ID of the aruco marker into cluedo hints. \mbox{\Hypertarget{simulation_8cpp_ae1a3f65d934a3c4a938e85d5071dfaa5}\label{simulation_8cpp_ae1a3f65d934a3c4a938e85d5071dfaa5}} 
\index{simulation.cpp@{simulation.cpp}!oracleService@{oracleService}}
\index{oracleService@{oracleService}!simulation.cpp@{simulation.cpp}}
\doxysubsubsection{\texorpdfstring{oracleService()}{oracleService()}}
{\footnotesize\ttfamily bool oracle\+Service (\begin{DoxyParamCaption}\item[{erl2\+::\+Oracle\+::\+Request \&}]{req,  }\item[{erl2\+::\+Oracle\+::\+Response \&}]{res }\end{DoxyParamCaption})}



callback function of the service oracle\+\_\+solution 


\begin{DoxyParams}{Parameters}
{\em req} & request from the client \\
\hline
{\em res} & response from the service oracle\+\_\+solution \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true
\end{DoxyReturn}
This function checks if the ID of the current hypothesis is the winning one. 